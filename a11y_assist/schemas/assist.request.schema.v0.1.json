{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://a11y-assist.dev/schemas/assist.request.schema.v0.1.json",
  "title": "assist.request.v0.1",
  "description": "Request schema for a11y-assist",
  "type": "object",
  "required": ["profile", "input"],
  "properties": {
    "profile": {
      "type": "string",
      "enum": ["lowvision"],
      "description": "Accessibility profile to use"
    },
    "input": {
      "type": "object",
      "required": ["kind"],
      "properties": {
        "kind": {
          "type": "string",
          "enum": ["cli_error_json", "raw_text", "last_log"],
          "description": "Type of input"
        },
        "path": {
          "type": "string",
          "description": "Path to input file"
        },
        "text": {
          "type": "string",
          "description": "Raw text input"
        }
      },
      "additionalProperties": false
    },
    "preferences": {
      "type": "object",
      "properties": {
        "max_steps": {
          "type": "integer",
          "minimum": 1,
          "maximum": 10,
          "description": "Maximum number of plan steps to return"
        },
        "show_next_command": {
          "type": "boolean",
          "description": "Whether to show suggested safe commands"
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false
}
