{
  "$schema": "schemas/methods.schema.json",
  "schema_version": "methods-catalog@v0.1",
  "spec_version": "0.1.0",
  "generated": false,
  "methods": [
    {
      "id": "adapter.wrap.envelope_v0_1",
      "namespace": "adapter",
      "status": "stable",
      "since": "0.1.0",
      "summary": "Wrapped a legacy tool payload into mcp.envelope.v0.1",
      "when_to_emit": "Adapter created an envelope around non-envelope output",
      "requires": ["envelope.schema_version == 'mcp.envelope.v0.1'"]
    },
    {
      "id": "adapter.pass_through.envelope_v0_1",
      "namespace": "adapter",
      "status": "stable",
      "since": "0.1.0",
      "summary": "Tool returned an envelope already; adapter returned it unchanged",
      "when_to_emit": "Adapter performed pass-through without wrapping",
      "requires": ["no double-wrapping"]
    },
    {
      "id": "adapter.provenance.attach_record_v0_1",
      "namespace": "adapter",
      "status": "stable",
      "since": "0.1.0",
      "summary": "Adapter attached a prov.record.v0.1 record to the envelope",
      "when_to_emit": "Envelope contains a provenance record generated by adapter logic",
      "requires": ["envelope.provenance.schema_version == 'prov.record.v0.1'"]
    },
    {
      "id": "adapter.errors.capture",
      "namespace": "adapter",
      "status": "stable",
      "since": "0.1.0",
      "summary": "Adapter captured an execution failure and emitted errors[] in the envelope",
      "when_to_emit": "Tool failed and adapter populated standardized envelope errors",
      "requires": ["envelope.errors.length >= 1"]
    },
    {
      "id": "adapter.warnings.capture",
      "namespace": "adapter",
      "status": "stable",
      "since": "0.1.0",
      "summary": "Adapter captured non-fatal warnings and emitted warnings[] in the envelope",
      "when_to_emit": "Partial results, degraded mode, etc.",
      "requires": ["envelope.warnings.length >= 1"]
    },
    {
      "id": "engine.prov.record_v0_1.build",
      "namespace": "engine",
      "status": "stable",
      "since": "0.1.0",
      "summary": "Constructed a prov.record.v0.1 record",
      "when_to_emit": "Provenance record created by engine/adapter",
      "requires": ["provenance.schema_version == 'prov.record.v0.1'"]
    },
    {
      "id": "engine.prov.artifact.register_input",
      "namespace": "engine",
      "status": "stable",
      "since": "0.1.0",
      "summary": "Registered one or more input artifacts in provenance",
      "when_to_emit": "Inputs list populated (regardless of digest presence)",
      "requires": ["provenance.inputs.length >= 1"]
    },
    {
      "id": "engine.prov.artifact.register_output",
      "namespace": "engine",
      "status": "stable",
      "since": "0.1.0",
      "summary": "Registered one or more output artifacts in provenance",
      "when_to_emit": "Outputs list populated",
      "requires": ["provenance.outputs.length >= 1"]
    },
    {
      "id": "engine.extract.evidence.json_pointer",
      "namespace": "engine",
      "status": "stable",
      "since": "0.1.0",
      "summary": "Evidence anchors were derived using JSON pointer-style fragments",
      "when_to_emit": "Evidence anchors include #json:/...",
      "requires": ["evidence[].source contains '#json:/'"]
    },
    {
      "id": "engine.extract.evidence.text_lines",
      "namespace": "engine",
      "status": "stable",
      "since": "0.1.0",
      "summary": "Evidence anchors were derived using text line ranges",
      "when_to_emit": "Evidence anchors include #text:line:...",
      "requires": ["evidence[].source contains '#text:line:'"]
    },
    {
      "id": "engine.coerce.evidence.v0_1",
      "namespace": "engine",
      "status": "stable",
      "since": "0.1.0",
      "summary": "Converted or normalized tool-provided evidence into evidence.v0.1",
      "when_to_emit": "Tool evidence was adapted into the canonical evidence schema",
      "requires": ["evidence[].schema_version == 'evidence.v0.1'"]
    },
    {
      "id": "integrity.digest.sha256",
      "namespace": "integrity",
      "status": "stable",
      "since": "0.1.0",
      "summary": "Computed sha256 digest(s) for one or more artifacts",
      "when_to_emit": "Any artifact digest uses sha256 and was computed during this run",
      "requires": ["artifact.digest.alg == 'sha256'", "artifact.digest.value is 64 hex chars"]
    },
    {
      "id": "integrity.digest.sha512",
      "namespace": "integrity",
      "status": "stable",
      "since": "0.1.0",
      "summary": "Computed sha512 digest(s) for one or more artifacts",
      "when_to_emit": "Any artifact digest uses sha512 and was computed during this run",
      "requires": ["artifact.digest.alg == 'sha512'", "artifact.digest.value is 128 hex chars"]
    },
    {
      "id": "integrity.digest.blake3",
      "namespace": "integrity",
      "status": "stable",
      "since": "0.1.0",
      "summary": "Computed blake3 digest(s) for one or more artifacts",
      "when_to_emit": "Any artifact digest uses blake3 and was computed during this run",
      "requires": ["artifact.digest.alg == 'blake3'", "artifact.digest.value is 64 hex chars"]
    },
    {
      "id": "integrity.record_digest.compute",
      "namespace": "integrity",
      "status": "stable",
      "since": "0.1.0",
      "summary": "Computed integrity.record_digest for the provenance record",
      "when_to_emit": "prov.record.integrity.record_digest is populated",
      "requires": ["provenance.integrity.record_digest is present"]
    },
    {
      "id": "integrity.signature.create",
      "namespace": "integrity",
      "status": "stable",
      "since": "0.1.0",
      "summary": "Created a signature over the provenance record digest",
      "when_to_emit": "prov.record.integrity.signature is populated (signing performed)",
      "requires": ["provenance.integrity.signature is present"]
    },
    {
      "id": "integrity.signature.verify",
      "namespace": "integrity",
      "status": "stable",
      "since": "0.1.0",
      "summary": "Verified a provenance record signature successfully",
      "when_to_emit": "provenance.verify tool confirms signature validity",
      "requires": ["signature verification succeeded"]
    },
    {
      "id": "lineage.parent.link",
      "namespace": "lineage",
      "status": "stable",
      "since": "0.1.0",
      "summary": "Linked this provenance record to one or more parent runs via parents[]",
      "when_to_emit": "parents[] populated to indicate dependency",
      "requires": ["provenance.parents.length >= 1"]
    },
    {
      "id": "lineage.graph.build",
      "namespace": "lineage",
      "status": "stable",
      "since": "0.1.0",
      "summary": "Built a lineage graph from one or more provenance records",
      "when_to_emit": "A graph/DAG representation was constructed",
      "requires": ["multiple records linked"]
    }
  ],
  "namespaces": {
    "adapter": {
      "description": "Envelope wrapping, transport, execution wrappers",
      "status": "stable"
    },
    "engine": {
      "description": "Evidence extraction, normalization, provenance construction",
      "status": "stable"
    },
    "integrity": {
      "description": "Hashing, signatures, verification",
      "status": "stable"
    },
    "lineage": {
      "description": "Parent linking and graph operations",
      "status": "stable"
    },
    "policy": {
      "description": "Access control, retention policies",
      "status": "reserved"
    },
    "attestation": {
      "description": "Third-party attestations, compliance claims",
      "status": "reserved"
    },
    "execution": {
      "description": "Runtime environment, resource usage",
      "status": "reserved"
    },
    "audit": {
      "description": "Audit trail operations",
      "status": "reserved"
    }
  }
}
